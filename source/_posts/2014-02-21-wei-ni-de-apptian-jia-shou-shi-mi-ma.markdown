---
layout: post
title: "为你的APP添加手势密码"
date: 2014-02-21 11:01
comments: true
published: false
categories: 
---


##开启手势密码
腾讯QQ直接进入手势密码输入界面，设置2次完成。支付宝需要首先验证用户密码，验证成功进入手势密码输入页面，设置2次完成。

##关闭手势密码
腾讯QQ关闭手势密码只是不再用手势密码保护应用，其值还是存在应用中，再次开启不需要重新录入。支付宝关闭手势密码需要首先验证用户密码，验证成功就关闭手势密码保护，此时已经存储的手势密码值被清楚，再次开启需要重新输入。

##修改手势密码
腾讯QQ交重置手势密码，点击后进入手势密码输入页面，输入完毕后，才会覆盖原有手势密码，若第二次输入的手势密码和第一次不一样，需要重新设置。支付宝需要首先用密码验证，验证通过后进入手势密码输入界面，输入完毕后才回复该原有手势密码。

##验证手势密码
手势密码输入页面，腾讯QQ有一个```忘记手势密码```的操作，点击```忘记手势密码```后，应用直接跳转到```安全登录```页面，这个时候若关闭应用，再次打开的时候原来的手势密码还在用户为登出，这说明腾讯是在新的手势密码设置好后才会将旧的密码覆盖掉。验证密码,腾讯QQ有5次机会。支付宝有```忘记手势密码```和```用其他账户登录```两个操作，点击```忘记手势密码```,应用会Alert_忘记手势密码需重新登录_,此时可以进行_取消_和_重新登录_操作。点击```重新登录```也会跳转到```登录页面```，此时强制退出应用，再次进入应用，旧的手势密码没有被改变，用户也未登出。```用其他账户登录```操作直接跳转到登录页面,此时强制退出应用，再次进入应用，旧的手势密码没有被改变，用户也未登出。验证密码，支付宝有5次机会。
##iOS7 snapshot
iOS7支持multitasking，双击home键就可以到multitasking switcher，在multitasking switcher里，苹果截取了应用当前屏幕的一个快照来代表后台运行的应用。而一般应用做手势密码的时候都是在ApplicationDidEnterForeground的时候present手势密码界面的，这就有个问题，如果用户切换到multitasking switcher里面来，这个时候应用的ApplicationDidEnterForeground方法不会被触发，因此，可以窥视应用的一些敏感信息。我们希望，应用退出到后台后，我们为应用提供一个snapshot来屏蔽敏感信息。就像腾讯QQ一样。